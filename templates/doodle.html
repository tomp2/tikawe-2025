{% extends "layout.html" %}
{% block title %}{{ doodle.title }} - Doodle App{% endblock %}
{% block content %}
  <div class="full-page-post mx-auto">
    <h2>{{ doodle.title }}</h2>
    <img src="/image/{{ doodle.image_url }}" alt="Doodle Image" class="mx-auto">
    <div class="reactions">
      {% for emoji, count in reactions.items() %}
        <p>{{ emoji }}x{{ count }}</p>
      {% endfor %}
      <form action="/doodle/{{ doodle.id }}/react" method="POST">
        <label for="emoji">React with:</label>
        <select name="emoji" id="emoji">
          <option value="👍">👍</option>
          <option value="😀">😀</option>
          <option value="❤️">❤️</option>
          <option value="🎉">🎉</option>
          <option value="🔥">🔥</option>
          <option value="😑">😑</option>
        </select>
        <button type="submit">Submit</button>
      </form>
    </div>

    <p>{{ doodle.description }}</p>
    <p><strong>Tags:</strong> {{ doodle.tags }}</p>
    <p><strong>Likes:</strong> {{ doodle.likes }}</p>
    <p><strong>Views:</strong> {{ doodle.views }}</p>


    <h3>Comments</h3>
    {% for comment in comments %}
      <div>
        <p><strong>{{ comment.username }}</strong>: {{ comment.content }}</p>
      </div>
    {% endfor %}

    <form action="/doodle/{{ doodle.id }}/comment" method="POST">
      <textarea name="content" placeholder="Add a comment..." required></textarea>
      <button type="submit">Comment</button>
    </form>
  </div>
{% endblock %}

